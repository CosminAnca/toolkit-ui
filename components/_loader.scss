/* ==========================================================================
   COMPONENTS / LOADER
   ========================================================================== */

$loader-size-small: $global-spacing-unit*2;
$loader-size: $global-spacing-unit*2.5;
$loader-size-large: $global-spacing-unit*3;
$loader-color: color(brand);
$loader-animation-speed: $global-animation-speed-slow;
$loader-transition-delay: $global-animation-speed;

/**
 * Loading animation.
 */
@-webkit-keyframes loading {
  to {
    -webkit-transform: rotate(360deg);
  }
}
@-moz-keyframes loading {
  to {
    -moz-transform: rotate(360deg);
  }
}
@-ms-keyframes loading {
  to {
    -ms-transform: rotate(360deg);
  }
}
@keyframes loading {
  to {
    transform: rotate(360deg);
  }
}

/**
 * The loading indicator is a simple inline element for easy use & modification.
 *
 * 1. Allows styling of box model properties and absolute positioning of
 *    pseudo-elements.
 * 2. Sets the indicator as visible to transition.
 * 3. Sets a default scale to transition from the indicator center.
 * 4. Transitions visibility whilst slowly scaling the indicator.
 */
.c-loader {
  display: inline-block; /* [1] */
  position: relative; /* [1] */
  width: $loader-size;
  height: $loader-size;
  visibility: visible; /* [2] */
  opacity: 1; /* [2] */
  transform: scale(1); /* [3] */
  transform-origin: 50% 50%; /* [3] */
  transition: opacity $loader-animation-speed ease, transform $loader-animation-speed*1.5 ease, visibility $loader-animation-speed ease; /* [4] */

  /**
   * The icon is displayed as a pseudo-element, filling any available space.
   * This allows for greater flexibility on the icon's animation and size.
   *
   * 1. Expands to fit the entirety of the indicator element.
   * 2. Sets the background to the icon and fills all available space.
   *    N.B. Use of base64 is temporary until a better icon solution is defined.
   * 3. Sets infinite loop of the previously defined "loading" animation.
   */
  &::after {
    content: '';
    position: absolute; /* [1] */
    top: 0; /* [1] */
    right: 0; /* [1] */
    bottom: 0; /* [1] */
    left: 0; /* [1] */
    background-color: transparent; /* [2] */
    background-image: url('data:image/png;base64,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'); /* [2] */
    background-repeat: no-repeat; /* [2] */
    background-size: contain; /* [2] */
    -webkit-animation: loading $loader-animation-speed infinite linear; /* [3] */
    -moz-animation: loading $loader-animation-speed infinite linear; /* [3] */
    -ms-animation: loading $loader-animation-speed infinite linear; /* [3] */
    animation: loading $loader-animation-speed infinite linear; /* [3] */
  }
}

/**
 * The loading indicator uses a stateful `.is-complete` class to provide a
 * default "completed" transition and state.
 * e.g. `<div class="c-loader  is-complete"></div>`
 *
 * Using the transition defined in .c-loader, this fades and shrinks the icon.
 */
.c-loader.is-complete {
  opacity: 0;
  visibility: hidden;
  transform: scale(0);
}

/* Loader Size Modifiers
   =========================================== */

.c-loader--small {
  width: $loader-size-small;
  height: $loader-size-small;
}

.c-loader--large {
  width: $loader-size-large;
  height: $loader-size-large;
}

/* Loader Overlay
   ========================================================================== */

.c-loader-overlay {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  opacity: 1;
  visibility: visible;
  z-index: 1000;
  transition: opacity $loader-animation-speed ease, visibility $loader-animation-speed ease;

  .c-loader {
    position: absolute;
    margin: 0 auto;
    top: 50%;
    right: 0;
    left: 0;
    bottom: 0;
    transform: translateY(-50%) scale(1);
  }
}

.c-loader-overlay.is-complete {
  opacity: 0;
  visibility: hidden;
  transition-delay: $loader-transition-delay;

  .c-loader {
    opacity: 0;
    visibility: hidden;
    transform: translateY(-50%) scale(0);
  }
}

/* Loader Overlay Background Modifiers
   =========================================== */

.c-loader-overlay--white {
  background-color: color(white);
}

.c-loader-overlay--tile {
  @include background-gradient("small", "radial");
}
